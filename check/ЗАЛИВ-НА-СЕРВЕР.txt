Сервер: root@92.51.44.138
Домен: netchess.ru

1) Залить папку check с компа (пароль спросит сам):

   cd C:\Users\Admin\PycharmProjects\PythonProject29
   scp -r check root@92.51.44.138:~/

   Если папка ~/check на сервере уже есть и пустая — после заливки получится ~/check/backend, ~/check/css и т.д. Если там уже было старое — можно удалить содержимое и залить заново: ssh root@92.51.44.138 "rm -rf ~/check/*" затем scp снова.

2) Зайти на сервер:

   ssh root@92.51.44.138

3) На сервере:

   cd ~/check/backend
   cp env.netchess.ru.example .env
   nano .env
   — прописать SECRET_KEY (openssl rand -hex 32), при желании GOOGLE_CLIENT_ID и GOOGLE_CLIENT_SECRET, сохранить.

   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   uvicorn main:app --host 0.0.0.0 --port 8000

   Сайт будет на http://92.51.44.138:8000. Чтобы открывать по netchess.ru и с HTTPS — спереди поставить nginx и certbot (Let's Encrypt).

4) Google OAuth для netchess.ru: в Google Cloud Console в redirect URIs добавить:
   https://netchess.ru/api/auth/google/callback
   https://www.netchess.ru/api/auth/google/callback

5) Чтобы сервис не падал после выхода из SSH — запускать через screen/tmux или systemd (см. ПЕРЕД-ДЕПЛОЕМ.txt).
